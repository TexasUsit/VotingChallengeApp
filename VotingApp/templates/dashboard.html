<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title></title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="stylesheet" href="css/normalize.min.css">
        <link rel="stylesheet" href="css/main.css">

        <script src="js/vendor/modernizr-2.8.3-respond-1.4.2.min.js"></script>

        <!-- Bootstrap CDN -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
        <!-- Latest compiled and minified JavaScript -->
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha/css/bootstrap.min.css">
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha/js/bootstrap.min.js"></script>
        <link rel="stylesheet" href="../static/css/dashboard.css">

    </head>
    <body>
        <div id="headerTitle">
            Voting Challenge Dashboard
        </div>


        <!-- transparent clear table -->
        <section> <!--for demo wrap-->
        <h1>Active Positions</h1>
        <div  class="tbl-header">
        <table cellpadding="0" cellspacing="0" border="0">
          <thead>
            <tr>
              <th>#</th>
              <th>Ticker</th>
              <th>Price Bought At</th>
              <th>Current Price</th>
              <th>Gain/Loss ($/share)</th>
              <th>% Gain/Loss</th>
              <th>Exit Positions</th>
            </tr>
          </thead>
        </table>
        </div>

        <div  class="tbl-content">
            <table cellpadding="0" cellspacing="0" border="0">
              <tbody>
                  {% set count = 1 %}
                  {% for ticker in stocks %}
                  {% set gain = prices[ticker.ticker]-ticker.startingPrice %}
                  <tr>
                    <td>{{count}}</td>
                    <td>{{ticker.ticker}}</td>
                    <td>{{ticker.startingPrice}}</td>
                    <td>{{prices[ticker.ticker]}}</td>
                    <td>{{gain}}</td>
                    <td>{{(gain/(ticker.startingPrice)*100)|round(2,'common')}}%</td>
                    <td><a href="{{url_for('exitPosition', exitIndex=count)}}"><button>&#10006;</button></a></td>
                  </tr>
                  {% set count = count+1 %}
                  {% endfor %}

            </tbody>
            </table>
        </div>
    </section>

    <section> <!--for demo wrap-->
    <h1>Exited Positions</h1>
    <div  class="tbl-header">
    <table cellpadding="0" cellspacing="0" border="0">
      <thead>
        <tr>
          <th>#</th>
          <th>Ticker</th>
          <th>Price Bought At</th>
          <th>Exit Price</th>
          <th>Gain/Loss ($/share)</th>
          <th>% Gain/Loss</th>
        </tr>
      </thead>
    </table>
    </div>

    <div  class="tbl-content">
        <table cellpadding="0" cellspacing="0" border="0">
          <tbody>
              {% set count = 1 %}
              {% for ticker in stocks %}
              {% set gain = prices[ticker.ticker]-ticker.startingPrice %}
              <tr>
                <td>{{count}}</td>
                <td>{{ticker.ticker}}</td>
                <td>{{ticker.startingPrice}}</td>
                <td>{{prices[ticker.ticker]}}</td>
                <td>{{gain}}</td>
                <td>{{(gain/(ticker.startingPrice)*100)|round(2,'common')}}%</td>
              </tr>
              {% set count = count+1 %}
              {% endfor %}

        </tbody>
        </table>
    </div>
</section>
        <!--
        <span class="positionLabel">Active Positions</span>
        <div class="table-responsive">
            <table class="table table-inverse">
              <thead>
                <tr>
                  <th>#</th>
                  <th>ticker</th>
                  <th>Price Bought At</th>
                  <th>Current Price</th>
                  <th>Gain/Loss ($/share)</th>
                  <th>% Gain/Loss</th>
                </tr>
              </thead>
              <tbody>
                  {% set count = 1 %}
                  {% for ticker in stocks %}
                  {% set gain = prices[ticker.ticker]-ticker.startingPrice %}
                  <tr>
                    <th scope="row">{{count}}</th>
                    <td>{{ticker.ticker}}</td>
                    <td>{{ticker.startingPrice}}</td>
                    <td>{{prices[ticker.ticker]}}</td>
                    <td>{{gain}}</td>
                    <td>{{(gain/(ticker.startingPrice)*100)|round(2,'common')}}%</td>
                  </tr>
                  {% set count = count+1 %}
                  {% endfor %}

              </tbody>
          </table>
      </div> -->

        {{ totalReturn }}
        {{ standing }}

        <!-- #main-container -->
        <a href="{{url_for('logout')}}">Logout</a>
        <div class="footer-container">
            <footer class="wrapper">
                <h3>footer</h3>
            </footer>
        </div>

        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
        <script>window.jQuery || document.write('<script src="js/vendor/jquery-1.11.2.min.js"><\/script>')</script>

        <script src="js/main.js"></script>
    </body>
</html>
